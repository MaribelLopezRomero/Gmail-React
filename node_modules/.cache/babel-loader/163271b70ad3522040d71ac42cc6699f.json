{"ast":null,"code":"import _classCallCheck from\"/home/maribel/Escritorio/Gmail/Gmail-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/maribel/Escritorio/Gmail/Gmail-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/maribel/Escritorio/Gmail/Gmail-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/maribel/Escritorio/Gmail/Gmail-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/maribel/Escritorio/Gmail/Gmail-React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"../stylesheets/App.css\";import Header from\"./Header\";import EmailItem from\"./EmailItem\";import EmailReader from\"./EmailReader\";import apiEmails from\"../data/emails.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleInboxFilter=function(ev){_this.setState({showInbox:true});};_this.handleDeleteFilter=function(ev){_this.setState({showInbox:false});};_this.handleTextFilter=function(data){_this.setState({inboxFilter:data.value});};_this.handleDeleteEmail=function(emailId){console.log(\"borrando\",emailId);_this.setState(function(prevState){var email=prevState.emails.find(function(email){return email.id===emailId;});email.deleted=true;return{emails:prevState.emails};});};_this.renderEmails=function(){var inboxFilter=_this.state.inboxFilter.toLocaleLowerCase();return _this.state.emails//Filtro por inbox vs deleted\n.filter(function(email){return _this.state.showInbox===true?!email.deleted:email.deleted;})//filtro por busqueda\n.filter(function(email){// console.log(email, this.state.inboxFilter);\nreturn email.fromEmail.toLowerCase().includes(inboxFilter)||email.fromName.toLowerCase().includes(inboxFilter)||email.body.toLowerCase().includes(inboxFilter);}).map(function(email){return/*#__PURE__*/_jsx(EmailItem,{id:email.id,from:email.fromName,subject:email.fromEmail,time:email.date,deleted:email.deleted,read:email.read,handleDeleteEmail:_this.handleDeleteEmail},email.id);});};_this.state={inboxFilter:\"\",emails:apiEmails,showInbox:true};_this.handleInboxFilter=_this.handleInboxFilter.bind(_assertThisInitialized(_this));_this.handleDeleteFilter=_this.handleDeleteFilter.bind(_assertThisInitialized(_this));_this.handleTextFilter=_this.handleTextFilter.bind(_assertThisInitialized(_this));_this.handleDeleteEmail=_this.handleDeleteEmail.bind(_assertThisInitialized(_this));return _this;}//Eventos\n_createClass(App,[{key:\"renderFilter\",value://Funcion pintar en un parrafo lo que hace la usuaria\nfunction renderFilter(){var emailType=this.state.showInbox?\"recibidos\":\"borrados\";var filterText=this.state.inboxFilter===\"\"?\"y sin filtrar\":/*#__PURE__*/_jsxs(\"span\",{children:[\"y filtrando por\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text--bold\",children:this.state.inboxFilter})]});return/*#__PURE__*/_jsxs(\"p\",{className:\"mb-1\",children:[\"La usuaria est\\xE1 visualizando los emails\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text--bold\",children:emailType}),\" \",filterText]});}//Funcion de renderizado y filtrado\n},{key:\"render\",value:function render(){console.log(this.state,this.props);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{handleInboxFilter:this.handleInboxFilter,handleDeleteFilter:this.handleDeleteFilter,handleTextFilter:this.handleTextFilter}),this.renderFilter(),/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:this.renderEmails()})}),/*#__PURE__*/_jsx(EmailReader,{fromName:this.state.emails[0].fromName,fromEmail:this.state.emails[0].fromEmail,subject:this.state.emails[0].subject,body:this.state.emails[0].body// handleDeleteEmail={this.handleDeleteFilter}\n})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/maribel/Escritorio/Gmail/Gmail-React/src/components/App.js"],"names":["React","Header","EmailItem","EmailReader","apiEmails","App","props","handleInboxFilter","ev","setState","showInbox","handleDeleteFilter","handleTextFilter","data","inboxFilter","value","handleDeleteEmail","emailId","console","log","prevState","email","emails","find","id","deleted","renderEmails","state","toLocaleLowerCase","filter","fromEmail","toLowerCase","includes","fromName","body","map","date","read","bind","emailType","filterText","renderFilter","subject","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../stylesheets/App.css\";\nimport Header from \"./Header\";\nimport EmailItem from \"./EmailItem\";\nimport EmailReader from \"./EmailReader\";\nimport apiEmails from \"../data/emails.json\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inboxFilter: \"\",\n      emails: apiEmails,\n      showInbox: true,\n    };\n\n    this.handleInboxFilter = this.handleInboxFilter.bind(this);\n    this.handleDeleteFilter = this.handleDeleteFilter.bind(this);\n    this.handleTextFilter = this.handleTextFilter.bind(this);\n    this.handleDeleteEmail = this.handleDeleteEmail.bind(this);\n  }\n  //Eventos\n  handleInboxFilter = (ev) => {\n    this.setState({ showInbox: true });\n  };\n  handleDeleteFilter = (ev) => {\n    this.setState({\n      showInbox: false,\n    });\n  };\n  handleTextFilter = (data) => {\n    this.setState({\n      inboxFilter: data.value,\n    });\n  };\n\n  handleDeleteEmail = (emailId) => {\n    console.log(\"borrando\", emailId);\n    this.setState((prevState) => {\n      const email = prevState.emails.find((email) => email.id === emailId);\n      email.deleted = true;\n      return {\n        emails: prevState.emails,\n      };\n    });\n  };\n\n  //Funcion pintar en un parrafo lo que hace la usuaria\n\n  renderFilter() {\n    const emailType = this.state.showInbox ? \"recibidos\" : \"borrados\";\n    const filterText =\n      this.state.inboxFilter === \"\" ? (\n        \"y sin filtrar\"\n      ) : (\n        <span>\n          y filtrando por{\" \"}\n          <span className=\"text--bold\">{this.state.inboxFilter}</span>\n        </span>\n      );\n    return (\n      <p className=\"mb-1\">\n        La usuaria est√° visualizando los emails{\" \"}\n        <span className=\"text--bold\">{emailType}</span> {filterText}\n      </p>\n    );\n  }\n\n  //Funcion de renderizado y filtrado\n\n  renderEmails = () => {\n    const inboxFilter = this.state.inboxFilter.toLocaleLowerCase();\n    return (\n      this.state.emails\n        //Filtro por inbox vs deleted\n        .filter((email) => {\n          return this.state.showInbox === true ? !email.deleted : email.deleted;\n        })\n\n        //filtro por busqueda\n        .filter((email) => {\n          // console.log(email, this.state.inboxFilter);\n          return (\n            email.fromEmail.toLowerCase().includes(inboxFilter) ||\n            email.fromName.toLowerCase().includes(inboxFilter) ||\n            email.body.toLowerCase().includes(inboxFilter)\n          );\n        })\n        .map((email) => {\n          return (\n            <EmailItem\n              key={email.id}\n              id={email.id}\n              from={email.fromName}\n              subject={email.fromEmail}\n              time={email.date}\n              deleted={email.deleted}\n              read={email.read}\n              handleDeleteEmail={this.handleDeleteEmail}\n            />\n          );\n        })\n    );\n  };\n  render() {\n    console.log(this.state, this.props);\n    return (\n      <>\n        <Header\n          handleInboxFilter={this.handleInboxFilter}\n          handleDeleteFilter={this.handleDeleteFilter}\n          handleTextFilter={this.handleTextFilter}\n        />\n        {this.renderFilter()}\n        <table className=\"table\">\n          <tbody>{this.renderEmails()}</tbody>\n        </table>\n\n        <EmailReader\n          fromName={this.state.emails[0].fromName}\n          fromEmail={this.state.emails[0].fromEmail}\n          subject={this.state.emails[0].subject}\n          body={this.state.emails[0].body}\n          // handleDeleteEmail={this.handleDeleteFilter}\n        />\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}